<!-- Spinner -->
<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="ball-pulse"
  [fullScreen]="true">
  <p style="color: white; font-size: 20px;">Carregando...</p>
</ngx-spinner>

<div class="content-list-container">  
  
  <!-- Opções de Pesquisa -->  
  <div class='options-filter-list-container'>
      <h1>Especialidades</h1>

      <!-- Erros -->
      <div *ngIf="errorMessage && errorMessage.length > 0" class="alert alert-danger">
          <h3>Atenção!</h3>
          <ul>
              <li>{{ errorMessage }}</li>
          </ul>
      </div>

      <!-- Barra de Pesquisa -->
      <app-search-bar
          [placeholder]="'Pesquisar Especialidade'"
          [pageSizeOptions]="[10, 30, 50]"
          (search)="onSearch($event)"
          (clear)="clearSearch()">
      </app-search-bar>

      <div *ngIf="specialties.length === 0 && searchTerm !== '' && !errorMessage && !loadingData" class="no-results-message">
          Nenhum resultado encontrado.
      </div>

      <a class="btn btn-new btn-outline-primary" (click)="addSpecialty()">
          <i class="fas fa-plus"></i> Cadastrar
      </a>
  </div>

  <!-- Tabela -->
  <div class="table-container">
      <table class="table table-bordered table-striped">
          <thead>
              <tr>
                  <th>Descrição</th>
                  <th class="text-center">Ações</th> 
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let specialty of specialties">
                  <td class="align-left">{{ specialty.description }}</td>
                  <td class="action-column">
                      <div class="button-group">
                          <button class="btn btn-action btn-warning" (click)="editSpecialty(specialty)">
                              <i class="fas fa-edit"></i>
                          </button>
                          <button class="btn btn-action btn-danger">
                              <i class="fas fa-trash-alt"></i>
                          </button>
                      </div>
                  </td>
              </tr>
          </tbody>
      </table>

      <!-- Paginação -->
      <div *ngIf="specialties.length > 0">
          <app-pagination 
              [currentPage]="currentPage" 
              [totalPages]="totalPages" 
              (pageChanged)="onPageChanged($event)">
          </app-pagination>
      </div>
  </div>
</div>
